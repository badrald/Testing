var J=Object.defineProperty,K=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var U=(r,a,n)=>a in r?J(r,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[a]=n,S=(r,a)=>{for(var n in a||(a={}))R.call(a,n)&&U(r,n,a[n]);if(P)for(var n of P(a))W.call(a,n)&&U(r,n,a[n]);return r},L=(r,a)=>K(r,O(a));import{c as u,a as e,o as c,d as X,r as b,b as D,e as B,f as v,g as x,u as p,h as Y,w as y,i as Z,v as f,j as ee,F as A,k as V,n as w,t as i,l as N}from"./index-Di7ZQu8m.js";import{r as te,a as se}from"./ChevronRightIcon-DVxHP0mG.js";import{r as oe}from"./PencilIcon-C4bt2ESj.js";import{r as ae}from"./TrashIcon-h1_yBUuT.js";function z(r,a){return c(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}const le={class:"space-y-6"},ne={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},ie={class:"mt-4 sm:mt-0"},de={class:"card"},re={class:"card-body"},ue={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ce={class:"md:col-span-2"},me={class:"relative"},ve={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},pe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},be={class:"card-body"},xe={class:"flex items-center mb-4"},ye={class:"flex-shrink-0"},he={class:"h-16 w-16 rounded-full bg-gradient-primary flex items-center justify-center shadow-medium"},fe={class:"text-xl font-medium text-white"},ge={class:"ml-4"},ke={class:"text-lg font-medium text-secondary-900"},_e={class:"text-sm text-secondary-500"},we={class:"grid grid-cols-2 gap-4 mb-4"},Ce={class:"text-center p-3 bg-primary-50 rounded-lg"},De={class:"text-2xl font-bold text-primary-600"},Be={class:"text-center p-3 bg-success-50 rounded-lg"},Ae={class:"text-2xl font-bold text-success-600"},Ve={class:"mb-4"},$e={class:"text-sm text-secondary-600 line-clamp-3"},Me={class:"text-xs text-secondary-500 mb-4 space-y-1"},je={key:0,class:"flex items-center"},Pe={key:1,class:"flex items-center"},Ue={class:"mb-4"},Se={class:"space-y-1"},Le={class:"flex justify-between items-center pt-4 border-t border-secondary-200"},Ne=["onClick"],ze={class:"flex space-x-2"},Te=["onClick"],Ee=["onClick"],Fe={class:"flex items-center justify-between"},Ie={class:"flex-1 flex justify-between sm:hidden"},qe=["disabled"],Qe=["disabled"],Ge={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},He={class:"text-sm text-secondary-700"},Je={class:"font-medium"},Ke={class:"font-medium"},Oe={class:"font-medium"},Re={class:"relative z-0 inline-flex rounded-lg shadow-sm -space-x-px"},We=["disabled"],Xe=["onClick"],Ye=["disabled"],Ze={class:"modal-body space-y-4"},et={class:"modal-footer"},nt=X({__name:"AuthorsView",setup(r){const a=b(""),n=b("name"),l=b(1),g=b(9),k=b(!1),d=b({name:"",nationality:"",birthDate:"",deathDate:"",biography:""}),_=b([{id:1,name:"أحلام مستغانمي",nationality:"جزائرية",birthDate:"1953-04-13",deathDate:"",biography:"روائية وشاعرة جزائرية، تعتبر من أهم الكاتبات العربيات المعاصرات. اشتهرت برواياتها التي تتناول قضايا المرأة والمجتمع العربي.",bookCount:8,availableBooks:5,popularBooks:["ذاكرة الجسد","فوضى الحواس","عابر سرير"]},{id:2,name:"نجيب محفوظ",nationality:"مصرية",birthDate:"1911-12-11",deathDate:"2006-08-30",biography:"روائي مصري حاز على جائزة نوبل للآداب عام 1988. يعتبر من أهم الكتاب العرب في القرن العشرين وأكثرهم تأثيراً.",bookCount:15,availableBooks:12,popularBooks:["الثلاثية","أولاد حارتنا","اللص والكلاب"]},{id:3,name:"غا��رييل غارسيا ماركيز",nationality:"كولومبية",birthDate:"1927-03-06",deathDate:"2014-04-17",biography:"كاتب وصحفي وناشط سياسي كولومبي. حاز على جائزة نوبل للآداب عام 1982. يعتبر من أهم رواد الواقعية السحرية.",bookCount:12,availableBooks:8,popularBooks:["مئة عام من العزلة","الحب في زمن الكوليرا","خريف البطريرك"]},{id:4,name:"طه حسين",nationality:"مصرية",birthDate:"1889-11-15",deathDate:"1973-10-28",biography:"أديب وناقد مصري، لُقب بعميد الأدب العربي. كان من رواد النهضة الثقافية العربية الحديثة.",bookCount:20,availableBooks:15,popularBooks:["الأيام","دعاء الكروان","على هامش السيرة"]}]),C=D(()=>{let o=_.value.filter(t=>!a.value||t.name.toLowerCase().includes(a.value.toLowerCase())||t.biography.toLowerCase().includes(a.value.toLowerCase()));switch(n.value){case"name":o.sort((t,s)=>t.name.localeCompare(s.name));break;case"books":o.sort((t,s)=>s.bookCount-t.bookCount);break;case"recent":o.sort((t,s)=>s.id-t.id);break}return o}),h=D(()=>Math.ceil(C.value.length/g.value)),T=D(()=>{const o=(l.value-1)*g.value,t=o+g.value;return C.value.slice(o,t)}),E=D(()=>{const o=[],t=Math.max(1,l.value-2),s=Math.min(h.value,l.value+2);for(let m=t;m<=s;m++)o.push(m);return o}),F=o=>o.split(" ").map(t=>t[0]).join("").toUpperCase(),$=o=>new Date(o).toLocaleDateString("ar-SA"),I=()=>{const o=L(S({id:_.value.length+1},d.value),{bookCount:0,availableBooks:0,popularBooks:[]});_.value.push(o),d.value={name:"",nationality:"",birthDate:"",deathDate:"",biography:""},k.value=!1},q=o=>{console.log("View author:",o)},Q=o=>{console.log("Edit author:",o)},G=o=>{if(confirm(`هل أنت متأكد من حذف المؤلف ${o.name}؟`)){const t=_.value.findIndex(s=>s.id===o.id);t>-1&&_.value.splice(t,1)}},M=()=>{l.value>1&&l.value--},j=()=>{l.value<h.value&&l.value++},H=o=>{l.value=o};return(o,t)=>(c(),u("div",le,[e("div",ne,[t[12]||(t[12]=e("div",null,[e("h1",{class:"text-3xl font-bold text-secondary-900"},"إدارة المؤلفين"),e("p",{class:"mt-2 text-secondary-600"},"إدارة معلومات المؤلفين وكتبهم")],-1)),e("div",ie,[e("button",{onClick:t[0]||(t[0]=s=>k.value=!0),class:"btn-primary"},[v(p(Y),{class:"w-4 h-4 mr-2"}),t[11]||(t[11]=x(" إضافة مؤلف جديد ",-1))])])]),e("div",de,[e("div",re,[e("div",ue,[e("div",ce,[e("div",me,[e("div",ve,[v(p(Z),{class:"h-5 w-5 text-secondary-400"})]),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>a.value=s),type:"text",placeholder:"البحث بالاسم أو السيرة الذاتية...",class:"form-input pl-10"},null,512),[[f,a.value]])])]),e("div",null,[y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.value=s),class:"form-select"},t[13]||(t[13]=[e("option",{value:"name"},"ترتيب بالاسم",-1),e("option",{value:"books"},"ترتيب بعدد الكتب",-1),e("option",{value:"recent"},"المضاف حديثاً",-1)]),512),[[ee,n.value]])])])])]),e("div",pe,[(c(!0),u(A,null,V(T.value,s=>(c(),u("div",{key:s.id,class:"card hover:shadow-medium transition-all duration-300 group"},[e("div",be,[e("div",xe,[e("div",ye,[e("div",he,[e("span",fe,i(F(s.name)),1)])]),e("div",ge,[e("h3",ke,i(s.name),1),e("p",_e,i(s.nationality),1)])]),e("div",we,[e("div",Ce,[e("div",De,i(s.bookCount),1),t[14]||(t[14]=e("div",{class:"text-xs text-secondary-500"},"كتاب",-1))]),e("div",Be,[e("div",Ae,i(s.availableBooks),1),t[15]||(t[15]=e("div",{class:"text-xs text-secondary-500"},"متاح",-1))])]),e("div",Ve,[e("p",$e,i(s.biography),1)]),e("div",Me,[s.birthDate?(c(),u("div",je,[v(p(z),{class:"w-3 h-3 mr-1"}),x(" ولد: "+i($(s.birthDate)),1)])):B("",!0),s.deathDate?(c(),u("div",Pe,[v(p(z),{class:"w-3 h-3 mr-1"}),x(" توفي: "+i($(s.deathDate)),1)])):B("",!0)]),e("div",Ue,[t[16]||(t[16]=e("h4",{class:"text-sm font-medium text-secondary-900 mb-2"},"الكتب الشهيرة:",-1)),e("div",Se,[(c(!0),u(A,null,V(s.popularBooks.slice(0,3),m=>(c(),u("div",{key:m,class:"text-xs text-secondary-600 bg-secondary-50 px-2 py-1 rounded line-clamp-1"},i(m),1))),128))])]),e("div",Le,[e("button",{onClick:m=>q(s),class:"text-primary-600 hover:text-primary-800 text-sm font-medium"}," عرض التفاصيل ",8,Ne),e("div",ze,[e("button",{onClick:m=>Q(s),class:"p-1 text-secondary-600 hover:text-secondary-800 rounded",title:"تعديل المؤلف"},[v(p(oe),{class:"h-4 w-4"})],8,Te),e("button",{onClick:m=>G(s),class:"p-1 text-danger-600 hover:text-danger-800 rounded",title:"حذف المؤلف"},[v(p(ae),{class:"h-4 w-4"})],8,Ee)])])])]))),128))]),e("div",Fe,[e("div",Ie,[e("button",{onClick:M,disabled:l.value===1,class:w(["btn-secondary",{"opacity-50 cursor-not-allowed":l.value===1}])}," السابق ",10,qe),e("button",{onClick:j,disabled:l.value===h.value,class:w(["btn-secondary",{"opacity-50 cursor-not-allowed":l.value===h.value}])}," التالي ",10,Qe)]),e("div",Ge,[e("div",null,[e("p",He,[t[17]||(t[17]=x(" عرض ",-1)),e("span",Je,i((l.value-1)*g.value+1),1),t[18]||(t[18]=x(" إلى ",-1)),e("span",Ke,i(Math.min(l.value*g.value,C.value.length)),1),t[19]||(t[19]=x(" من ",-1)),e("span",Oe,i(C.value.length),1),t[20]||(t[20]=x(" نتيجة ",-1))])]),e("div",null,[e("nav",Re,[e("button",{onClick:M,disabled:l.value===1,class:w(["relative inline-flex items-center px-2 py-2 rounded-l-lg border border-secondary-300 bg-white text-sm font-medium text-secondary-500 hover:bg-secondary-50",{"opacity-50 cursor-not-allowed":l.value===1}])},[v(p(te),{class:"h-5 w-5"})],10,We),(c(!0),u(A,null,V(E.value,s=>(c(),u("button",{key:s,onClick:m=>H(s),class:w(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s===l.value?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-secondary-300 text-secondary-500 hover:bg-secondary-50"])},i(s),11,Xe))),128)),e("button",{onClick:j,disabled:l.value===h.value,class:w(["relative inline-flex items-center px-2 py-2 rounded-r-lg border border-secondary-300 bg-white text-sm font-medium text-secondary-500 hover:bg-secondary-50",{"opacity-50 cursor-not-allowed":l.value===h.value}])},[v(p(se),{class:"h-5 w-5"})],10,Ye)])])])]),k.value?(c(),u("div",{key:0,class:"modal-overlay",onClick:t[10]||(t[10]=s=>k.value=!1)},[e("div",{class:"modal-container",onClick:t[9]||(t[9]=N(()=>{},["stop"]))},[t[27]||(t[27]=e("div",{class:"modal-header"},[e("h3",{class:"text-lg font-semibold text-secondary-900"},"إضافة مؤلف جديد")],-1)),e("form",{onSubmit:N(I,["prevent"])},[e("div",Ze,[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"الاسم الكامل",-1)),y(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>d.value.name=s),type:"text",required:"",class:"form-input",placeholder:"أدخل اسم المؤلف"},null,512),[[f,d.value.name]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"الجنسية",-1)),y(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>d.value.nationality=s),type:"text",class:"form-input",placeholder:"أدخل الجنسية"},null,512),[[f,d.value.nationality]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"تاريخ الميلاد",-1)),y(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>d.value.birthDate=s),type:"date",class:"form-input"},null,512),[[f,d.value.birthDate]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"تاريخ الوفاة (إن وجد)",-1)),y(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>d.value.deathDate=s),type:"date",class:"form-input"},null,512),[[f,d.value.deathDate]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"السيرة الذاتية",-1)),y(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=s=>d.value.biography=s),rows:"4",class:"form-textarea",placeholder:"أدخل السيرة الذاتية للمؤلف"},null,512),[[f,d.value.biography]])])]),e("div",et,[e("button",{type:"button",onClick:t[8]||(t[8]=s=>k.value=!1),class:"btn-secondary"}," إلغاء "),t[26]||(t[26]=e("button",{type:"submit",class:"btn-primary"}," إضافة المؤلف ",-1))])],32)])])):B("",!0)]))}});export{nt as default};
