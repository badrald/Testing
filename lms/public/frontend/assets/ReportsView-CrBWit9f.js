import{c as n,a as s,o as l,d as T,r,w as p,j as D,v as y,f as d,u as i,m as V,t as o,q as I,x as S,I as E,F as x,k as v,z as g}from"./index-Di7ZQu8m.js";import{r as F}from"./ClockIcon-Bw__AIAu.js";function w(h,c){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3"})])}function k(h,c){return l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18"})])}const L={class:"space-y-8"},U={class:"card"},z={class:"card-body"},N={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},G={class:"stats-card"},P={class:"flex items-center"},A={class:"flex-shrink-0"},H={class:"w-12 h-12 bg-gradient-primary rounded-xl flex items-center justify-center"},J={class:"ml-4 flex-1"},K={class:"flex items-baseline"},O={class:"text-2xl font-bold text-secondary-900"},Q={class:"ml-2 flex items-baseline text-sm font-semibold text-success-600"},W={class:"stats-card"},X={class:"flex items-center"},Y={class:"flex-shrink-0"},Z={class:"w-12 h-12 bg-gradient-success rounded-xl flex items-center justify-center"},ss={class:"ml-4 flex-1"},ts={class:"flex items-baseline"},es={class:"text-2xl font-bold text-secondary-900"},os={class:"ml-2 flex items-baseline text-sm font-semibold text-success-600"},ns={class:"stats-card"},ls={class:"flex items-center"},ds={class:"flex-shrink-0"},is={class:"w-12 h-12 bg-gradient-warning rounded-xl flex items-center justify-center"},rs={class:"ml-4 flex-1"},as={class:"flex items-baseline"},cs={class:"text-2xl font-bold text-secondary-900"},us={class:"ml-2 flex items-baseline text-sm font-semibold text-danger-600"},ms={class:"stats-card"},xs={class:"flex items-center"},vs={class:"flex-shrink-0"},_s={class:"w-12 h-12 bg-gradient-danger rounded-xl flex items-center justify-center"},fs={class:"ml-4 flex-1"},bs={class:"flex items-baseline"},ps={class:"text-2xl font-bold text-secondary-900"},hs={class:"ml-2 flex items-baseline text-sm font-semibold text-success-600"},ys={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},gs={class:"card"},ws={class:"card-body"},ks={class:"h-64 bg-gradient-to-br from-primary-50 to-primary-100 rounded-lg flex items-center justify-center"},Cs={class:"text-center"},js={class:"card"},Ms={class:"card-body"},Bs={class:"space-y-4"},Rs={class:"flex items-center space-x-3"},$s={class:"text-sm font-medium text-secondary-900"},Ts={class:"flex items-center space-x-3"},Ds={class:"w-32 bg-secondary-200 rounded-full h-2"},Vs={class:"text-sm text-secondary-500 w-12 text-right"},Is={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Ss={class:"card"},Es={class:"card-header"},Fs={class:"flex items-center justify-between"},Ls={class:"card-body p-0"},Us={class:"divide-y divide-secondary-100"},zs={class:"flex items-center space-x-3"},Ns={class:"flex-shrink-0 w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center"},qs={class:"text-sm font-medium text-primary-600"},Gs={class:"text-sm font-medium text-secondary-900"},Ps={class:"text-xs text-secondary-500"},As={class:"text-right"},Hs={class:"text-sm font-medium text-secondary-900"},Js={class:"card"},Ks={class:"card-header"},Os={class:"flex items-center justify-between"},Qs={class:"card-body p-0"},Ws={class:"divide-y divide-secondary-100"},Xs={class:"flex items-center space-x-3"},Ys={class:"flex-shrink-0 w-8 h-8 bg-success-100 rounded-full flex items-center justify-center"},Zs={class:"text-sm font-medium text-success-600"},st={class:"text-sm font-medium text-secondary-900"},tt={class:"text-xs text-secondary-500"},et={class:"text-right"},ot={class:"text-sm font-medium text-secondary-900"},nt={class:"card"},lt={class:"card-header"},dt={class:"flex items-center justify-between"},it={class:"flex space-x-2"},rt={class:"overflow-x-auto"},at={class:"table"},ct={class:"table-body"},ut={class:"table-cell font-medium"},mt={class:"table-cell"},xt={class:"table-cell"},vt={class:"table-cell"},_t={class:"table-cell"},ft={class:"table-cell"},ht=T({__name:"ReportsView",setup(h){const c=r("30"),_=r(""),f=r(""),u=r({totalCirculation:1247,activeMembers:342,avgLoanDuration:"14 يوم",overdueRate:8.5}),C=r([{name:"الأدب",count:156,percentage:85,color:"#3b82f6"},{name:"العلوم",count:89,percentage:65,color:"#22c55e"},{name:"التاريخ",count:67,percentage:45,color:"#f59e0b"},{name:"السير الذاتية",count:45,percentage:30,color:"#ef4444"},{name:"التكنولوجيا",count:34,percentage:25,color:"#8b5cf6"}]),j=r([{id:1,title:"الأسود يليق بك",author:"أحلام مستغانمي",borrowCount:23},{id:2,title:"مئة عام من العزلة",author:"غابرييل غارسيا ماركيز",borrowCount:19},{id:3,title:"1984",author:"جورج أورويل",borrowCount:17},{id:4,title:"كبرياء وتحامل",author:"جين أوستن",borrowCount:15},{id:5,title:"الحارس في حقل الشوفان",author:"ج.د. سالينجر",borrowCount:13}]),M=r([{id:1,name:"أحمد محمد",membershipType:"student",borrowCount:12},{id:2,name:"فاطمة أحمد",membershipType:"faculty",borrowCount:10},{id:3,name:"محمد سالم",membershipType:"public",borrowCount:8},{id:4,name:"سارة علي",membershipType:"student",borrowCount:7},{id:5,name:"خالد أحمد",membershipType:"faculty",borrowCount:6}]),B=r([{month:"يناي�� 2024",booksIssued:145,booksReturned:132,newMembers:23,overdueBooks:12,revenue:1250},{month:"ديسمبر 2023",booksIssued:132,booksReturned:128,newMembers:18,overdueBooks:15,revenue:1180},{month:"نوفمبر 2023",booksIssued:156,booksReturned:149,newMembers:31,overdueBooks:8,revenue:1420},{month:"أكتوبر 2023",booksIssued:167,booksReturned:162,newMembers:27,overdueBooks:11,revenue:1580}]),R=a=>{switch(a){case"student":return"طالب";case"faculty":return"أكاديمي";case"public":return"عام";default:return a}},$=()=>{console.log("Generating reports for date range:",_.value,"to",f.value)},m=a=>{console.log("Exporting report:",a)};return(a,t)=>(l(),n("div",L,[t[30]||(t[30]=s("div",null,[s("h1",{class:"text-3xl font-bold text-secondary-900"},"التقارير والإحصائيات"),s("p",{class:"mt-2 text-secondary-600"},"رؤى شاملة حول عمليات المكتبة")],-1)),s("div",U,[t[11]||(t[11]=s("div",{class:"card-header"},[s("h3",{class:"text-lg font-semibold text-secondary-900"},"مرشحات التقرير"),s("p",{class:"text-sm text-secondary-600"},"حدد الفترة الزمنية للتقرير")],-1)),s("div",z,[s("div",N,[s("div",null,[t[8]||(t[8]=s("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"النطاق الزمني",-1)),p(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),class:"form-select"},t[7]||(t[7]=[s("option",{value:"7"},"آخر 7 أيام",-1),s("option",{value:"30"},"آخر 30 يوم",-1),s("option",{value:"90"},"آخر 3 أشهر",-1),s("option",{value:"365"},"آخر سنة",-1)]),512),[[D,c.value]])]),s("div",null,[t[9]||(t[9]=s("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"من تاريخ",-1)),p(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>_.value=e),type:"date",class:"form-input"},null,512),[[y,_.value]])]),s("div",null,[t[10]||(t[10]=s("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"إلى تاريخ",-1)),p(s("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>f.value=e),type:"date",class:"form-input"},null,512),[[y,f.value]])]),s("div",{class:"flex items-end"},[s("button",{onClick:$,class:"btn-primary w-full"}," إنشاء التقارير ")])])])]),s("div",q,[s("div",G,[s("div",P,[s("div",A,[s("div",H,[d(i(V),{class:"w-6 h-6 text-white"})])]),s("div",J,[t[13]||(t[13]=s("p",{class:"text-sm font-medium text-secondary-600"},"إجمالي التداول",-1)),s("div",K,[s("p",O,o(u.value.totalCirculation),1),s("div",Q,[d(i(k),{class:"self-center flex-shrink-0 h-4 w-4"}),t[12]||(t[12]=s("span",null,"12%",-1))])])])])]),s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[d(i(I),{class:"w-6 h-6 text-white"})])]),s("div",ss,[t[15]||(t[15]=s("p",{class:"text-sm font-medium text-secondary-600"},"الأعضاء النشطون",-1)),s("div",ts,[s("p",es,o(u.value.activeMembers),1),s("div",os,[d(i(k),{class:"self-center flex-shrink-0 h-4 w-4"}),t[14]||(t[14]=s("span",null,"8%",-1))])])])])]),s("div",ns,[s("div",ls,[s("div",ds,[s("div",is,[d(i(F),{class:"w-6 h-6 text-white"})])]),s("div",rs,[t[17]||(t[17]=s("p",{class:"text-sm font-medium text-secondary-600"},"متوسط مدة الاستعارة",-1)),s("div",as,[s("p",cs,o(u.value.avgLoanDuration),1),s("div",us,[d(i(w),{class:"self-center flex-shrink-0 h-4 w-4"}),t[16]||(t[16]=s("span",null,"3%",-1))])])])])]),s("div",ms,[s("div",xs,[s("div",vs,[s("div",_s,[d(i(S),{class:"w-6 h-6 text-white"})])]),s("div",fs,[t[19]||(t[19]=s("p",{class:"text-sm font-medium text-secondary-600"},"معدل التأخير",-1)),s("div",bs,[s("p",ps,o(u.value.overdueRate)+"%",1),s("div",hs,[d(i(w),{class:"self-center flex-shrink-0 h-4 w-4"}),t[18]||(t[18]=s("span",null,"5%",-1))])])])])])]),s("div",ys,[s("div",gs,[t[22]||(t[22]=s("div",{class:"card-header"},[s("h3",{class:"text-lg font-semibold text-secondary-900"},"اتجاهات التداول"),s("p",{class:"text-sm text-secondary-600"},"تطور عمليات الاستعارة عبر الزمن")],-1)),s("div",ws,[s("div",ks,[s("div",Cs,[d(i(E),{class:"h-12 w-12 text-primary-400 mx-auto mb-2"}),t[20]||(t[20]=s("p",{class:"text-secondary-500"},"سيتم عرض مخطط اتجاهات التداول هنا",-1)),t[21]||(t[21]=s("p",{class:"text-sm text-secondary-400"},"يتطلب تكامل مع مكتبة الرسوم البيانية",-1))])])])]),s("div",js,[t[23]||(t[23]=s("div",{class:"card-header"},[s("h3",{class:"text-lg font-semibold text-secondary-900"},"التصنيفات الشائعة"),s("p",{class:"text-sm text-secondary-600"},"توزيع الكتب حسب التصنيف")],-1)),s("div",Ms,[s("div",Bs,[(l(!0),n(x,null,v(C.value,e=>(l(),n("div",{key:e.name,class:"flex items-center justify-between"},[s("div",Rs,[s("div",{class:"w-4 h-4 rounded-full",style:g({backgroundColor:e.color})},null,4),s("span",$s,o(e.name),1)]),s("div",Ts,[s("div",Ds,[s("div",{class:"h-2 rounded-full transition-all duration-1000 ease-out",style:g({width:e.percentage+"%",backgroundColor:e.color})},null,4)]),s("span",Vs,o(e.count),1)])]))),128))])])])]),s("div",Is,[s("div",Ss,[s("div",Es,[s("div",Fs,[t[24]||(t[24]=s("div",null,[s("h3",{class:"text-lg font-semibold text-secondary-900"},"الكتب الأكثر استعارة"),s("p",{class:"text-sm text-secondary-600"},"أشهر الكتب في المكتبة")],-1)),s("button",{onClick:t[3]||(t[3]=e=>m("top-books")),class:"btn-secondary btn-sm"}," تصدير ")])]),s("div",Ls,[s("div",Us,[(l(!0),n(x,null,v(j.value,(e,b)=>(l(),n("div",{key:e.id,class:"flex items-center justify-between p-4 hover:bg-secondary-50 transition-colors duration-200"},[s("div",zs,[s("div",Ns,[s("span",qs,o(b+1),1)]),s("div",null,[s("p",Gs,o(e.title),1),s("p",Ps,o(e.author),1)])]),s("div",As,[s("p",Hs,o(e.borrowCount),1),t[25]||(t[25]=s("p",{class:"text-xs text-secondary-500"},"مرة استعارة",-1))])]))),128))])])]),s("div",Js,[s("div",Ks,[s("div",Os,[t[26]||(t[26]=s("div",null,[s("h3",{class:"text-lg font-semibold text-secondary-900"},"الأعضاء الأكثر نشاطاً"),s("p",{class:"text-sm text-secondary-600"},"أكثر الأعضاء استعارة للكتب")],-1)),s("button",{onClick:t[4]||(t[4]=e=>m("active-members")),class:"btn-secondary btn-sm"}," تصدير ")])]),s("div",Qs,[s("div",Ws,[(l(!0),n(x,null,v(M.value,(e,b)=>(l(),n("div",{key:e.id,class:"flex items-center justify-between p-4 hover:bg-secondary-50 transition-colors duration-200"},[s("div",Xs,[s("div",Ys,[s("span",Zs,o(b+1),1)]),s("div",null,[s("p",st,o(e.name),1),s("p",tt,o(R(e.membershipType)),1)])]),s("div",et,[s("p",ot,o(e.borrowCount),1),t[27]||(t[27]=s("p",{class:"text-xs text-secondary-500"},"كتاب مستعار",-1))])]))),128))])])])]),s("div",nt,[s("div",lt,[s("div",dt,[t[28]||(t[28]=s("div",null,[s("h3",{class:"text-lg font-semibold text-secondary-900"},"الملخص الشهري"),s("p",{class:"text-sm text-secondary-600"},"إحصائيات شاملة للأشهر الماضية")],-1)),s("div",it,[s("button",{onClick:t[5]||(t[5]=e=>m("monthly-summary")),class:"btn-primary btn-sm"}," تصدير PDF "),s("button",{onClick:t[6]||(t[6]=e=>m("monthly-summary-excel")),class:"btn-success btn-sm"}," تصدير Excel ")])])]),s("div",rt,[s("table",at,[t[29]||(t[29]=s("thead",{class:"table-header"},[s("tr",null,[s("th",null,"الشهر"),s("th",null,"كتب صدرت"),s("th",null,"كتب أرجعت"),s("th",null,"أعضاء جدد"),s("th",null,"كتب متأخرة"),s("th",null,"الإيرادات")])],-1)),s("tbody",ct,[(l(!0),n(x,null,v(B.value,e=>(l(),n("tr",{key:e.month,class:"table-row"},[s("td",ut,o(e.month),1),s("td",mt,o(e.booksIssued),1),s("td",xt,o(e.booksReturned),1),s("td",vt,o(e.newMembers),1),s("td",_t,o(e.overdueBooks),1),s("td",ft,o(e.revenue)+" ريال ",1)]))),128))])])])])]))}});export{ht as default};
