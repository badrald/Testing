var z=Object.defineProperty,O=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var C=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var M=(i,l,a)=>l in i?z(i,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[l]=a,T=(i,l)=>{for(var a in l||(l={}))R.call(l,a)&&M(i,a,l[a]);if(C)for(var a of C(l))G.call(l,a)&&M(i,a,l[a]);return i},L=(i,l)=>O(i,Q(l));import{c as b,a as e,o as f,d as H,r,b as x,e as J,f as c,g as K,u,p as W,q as X,t as d,s as Y,x as Z,w as m,i as ee,v as h,j as w,F as te,k as se,l as B,n as oe}from"./index-Di7ZQu8m.js";import{r as le}from"./EyeIcon-Dqe4Gm_d.js";import{r as ae}from"./PencilIcon-C4bt2ESj.js";function ne(i,l){return f(),b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}const de={class:"space-y-6"},ie={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},re={class:"mt-4 sm:mt-0"},ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ue={class:"stats-card"},me={class:"flex items-center"},ve={class:"flex-shrink-0"},pe={class:"w-12 h-12 bg-gradient-primary rounded-xl flex items-center justify-center"},xe={class:"ml-4"},he={class:"text-2xl font-bold text-secondary-900"},be={class:"stats-card"},fe={class:"flex items-center"},ye={class:"flex-shrink-0"},_e={class:"w-12 h-12 bg-gradient-success rounded-xl flex items-center justify-center"},we={class:"ml-4"},ge={class:"text-2xl font-bold text-secondary-900"},ke={class:"stats-card"},Ce={class:"flex items-center"},Me={class:"flex-shrink-0"},Te={class:"w-12 h-12 bg-gradient-warning rounded-xl flex items-center justify-center"},Le={class:"ml-4"},Be={class:"text-2xl font-bold text-secondary-900"},Se={class:"card"},Ve={class:"card-body"},$e={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},De={class:"md:col-span-2"},Ie={class:"relative"},je={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},Ue={class:"card"},qe={class:"card-header"},Ne={class:"text-lg font-semibold text-secondary-900"},Ae={class:"overflow-x-auto"},Pe={class:"table"},Ee={class:"table-body"},Fe={class:"table-cell"},ze={class:"flex items-center"},Oe={class:"flex-shrink-0 h-10 w-10"},Qe={class:"h-10 w-10 rounded-full bg-gradient-primary flex items-center justify-center"},Re={class:"text-sm font-medium text-white"},Ge={class:"ml-4"},He={class:"text-sm font-medium text-secondary-900"},Je={class:"text-sm text-secondary-500"},Ke={class:"table-cell"},We={class:"text-sm text-secondary-900"},Xe={class:"text-sm text-secondary-500"},Ye={class:"table-cell"},Ze={class:"text-sm text-secondary-900"},et={class:"text-sm text-secondary-500"},tt={class:"table-cell"},st={class:"table-cell"},ot={class:"table-cell text-right"},lt={class:"flex items-center justify-end space-x-2"},at=["onClick"],nt=["onClick"],dt=["onClick"],it={class:"modal-body space-y-4"},rt={class:"modal-footer"},pt=H({__name:"MembersView",setup(i){const l=r(""),a=r(""),y=r(""),S=r(1),g=r(10),p=r(!1),n=r({name:"",email:"",phone:"",membershipType:"",address:""}),v=r([{id:1,memberId:"LIB001",name:"أحمد محمد علي",email:"ahmed.mohamed@email.com",phone:"+966-50-123-4567",membershipType:"student",status:"active",expiryDate:"2024-12-31",booksBorrowed:2,borrowLimit:5,address:"الرياض، المملكة العربية السعودية"},{id:2,memberId:"LIB002",name:"فاطمة أحمد",email:"fatima.ahmed@email.com",phone:"+966-55-234-5678",membershipType:"faculty",status:"active",expiryDate:"2025-06-30",booksBorrowed:1,borrowLimit:10,address:"جدة، المملكة العربية السعودية"},{id:3,memberId:"LIB003",name:"محمد سالم",email:"mohammed.salem@email.com",phone:"+966-56-345-6789",membershipType:"public",status:"expired",expiryDate:"2024-01-15",booksBorrowed:0,borrowLimit:3,address:"الدمام، المملكة العربية السعودية"}]),V=x(()=>v.value.length),$=x(()=>v.value.filter(o=>o.status==="active").length),D=x(()=>v.value.filter(o=>o.status==="expired").length),k=x(()=>v.value.filter(o=>{const t=!l.value||o.name.toLowerCase().includes(l.value.toLowerCase())||o.email.toLowerCase().includes(l.value.toLowerCase())||o.memberId.toLowerCase().includes(l.value.toLowerCase()),s=!a.value||o.membershipType===a.value,_=!y.value||o.status===y.value;return t&&s&&_})),I=x(()=>{const o=(S.value-1)*g.value,t=o+g.value;return k.value.slice(o,t)}),j=o=>{switch(o){case"student":return"طالب";case"faculty":return"أكاديمي";case"public":return"عام";default:return o}},U=o=>{switch(o){case"active":return"badge-success";case"expired":return"badge-danger";case"suspended":return"badge-warning";default:return"badge-secondary"}},q=o=>{switch(o){case"active":return"نشط";case"expired":return"منتهي";case"suspended":return"معلق";default:return o}},N=o=>new Date(o).toLocaleDateString("ar-SA"),A=()=>{const o=L(T({id:v.value.length+1,memberId:`LIB${String(v.value.length+1).padStart(3,"0")}`},n.value),{status:"active",expiryDate:new Date(Date.now()+31536e6).toISOString().split("T")[0],booksBorrowed:0,borrowLimit:n.value.membershipType==="faculty"?10:n.value.membershipType==="student"?5:3});v.value.push(o),n.value={name:"",email:"",phone:"",membershipType:"",address:""},p.value=!1},P=o=>{console.log("View member:",o)},E=o=>{console.log("Edit member:",o)},F=o=>{console.log("Renew membership:",o)};return(o,t)=>(f(),b("div",de,[e("div",ie,[t[13]||(t[13]=e("div",null,[e("h1",{class:"text-3xl font-bold text-secondary-900"},"إدارة الأعضاء"),e("p",{class:"mt-2 text-secondary-600"},"إدارة أعضاء المكتبة والعضويات")],-1)),e("div",re,[e("button",{onClick:t[0]||(t[0]=s=>p.value=!0),class:"btn-primary"},[c(u(W),{class:"w-4 h-4 mr-2"}),t[12]||(t[12]=K(" إضافة عضو جديد ",-1))])])]),e("div",ce,[e("div",ue,[e("div",me,[e("div",ve,[e("div",pe,[c(u(X),{class:"w-6 h-6 text-white"})])]),e("div",xe,[t[14]||(t[14]=e("p",{class:"text-sm font-medium text-secondary-600"},"إجمالي الأعضاء",-1)),e("p",he,d(V.value),1)])])]),e("div",be,[e("div",fe,[e("div",ye,[e("div",_e,[c(u(Y),{class:"w-6 h-6 text-white"})])]),e("div",we,[t[15]||(t[15]=e("p",{class:"text-sm font-medium text-secondary-600"},"الأعضاء النشطون",-1)),e("p",ge,d($.value),1)])])]),e("div",ke,[e("div",Ce,[e("div",Me,[e("div",Te,[c(u(Z),{class:"w-6 h-6 text-white"})])]),e("div",Le,[t[16]||(t[16]=e("p",{class:"text-sm font-medium text-secondary-600"},"العضويات المنتهية",-1)),e("p",Be,d(D.value),1)])])])]),e("div",Se,[e("div",Ve,[e("div",$e,[e("div",De,[e("div",Ie,[e("div",je,[c(u(ee),{class:"h-5 w-5 text-secondary-400"})]),m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value=s),type:"text",placeholder:"البحث بالاسم، البريد الإلكتروني، أو رقم العضوية...",class:"form-input pl-10"},null,512),[[h,l.value]])])]),e("div",null,[m(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>a.value=s),class:"form-select"},t[17]||(t[17]=[e("option",{value:""},"جميع الأنواع",-1),e("option",{value:"student"},"طالب",-1),e("option",{value:"faculty"},"أكاديمي",-1),e("option",{value:"public"},"عام",-1)]),512),[[w,a.value]])]),e("div",null,[m(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>y.value=s),class:"form-select"},t[18]||(t[18]=[e("option",{value:""},"جميع الحالات",-1),e("option",{value:"active"},"نشط",-1),e("option",{value:"expired"},"منتهي",-1),e("option",{value:"suspended"},"معلق",-1)]),512),[[w,y.value]])])])])]),e("div",Ue,[e("div",qe,[e("h3",Ne," الأعضاء ("+d(k.value.length)+") ",1)]),e("div",Ae,[e("table",Pe,[t[19]||(t[19]=e("thead",{class:"table-header"},[e("tr",null,[e("th",null,"العضو"),e("th",null,"معلومات الاتصال"),e("th",null,"العضوية"),e("th",null,"الحالة"),e("th",null,"الكتب المستعارة"),e("th",{class:"text-right"},"الإجراءات")])],-1)),e("tbody",Ee,[(f(!0),b(te,null,se(I.value,s=>(f(),b("tr",{key:s.id,class:"table-row"},[e("td",Fe,[e("div",ze,[e("div",Oe,[e("div",Qe,[e("span",Re,d(s.name.charAt(0)),1)])]),e("div",Ge,[e("div",He,d(s.name),1),e("div",Je," رقم العضوية: "+d(s.memberId),1)])])]),e("td",Ke,[e("div",We,d(s.email),1),e("div",Xe,d(s.phone),1)]),e("td",Ye,[e("div",Ze,d(j(s.membershipType)),1),e("div",et," ينتهي: "+d(N(s.expiryDate)),1)]),e("td",tt,[e("span",{class:oe(["badge",U(s.status)])},d(q(s.status)),3)]),e("td",st,d(s.booksBorrowed)+"/"+d(s.borrowLimit),1),e("td",ot,[e("div",lt,[e("button",{onClick:_=>P(s),class:"p-1 text-primary-600 hover:text-primary-800 rounded",title:"عرض التفاصيل"},[c(u(le),{class:"h-4 w-4"})],8,at),e("button",{onClick:_=>E(s),class:"p-1 text-secondary-600 hover:text-secondary-800 rounded",title:"تعديل العضو"},[c(u(ae),{class:"h-4 w-4"})],8,nt),e("button",{onClick:_=>F(s),class:"p-1 text-success-600 hover:text-success-800 rounded",title:"تجديد العضوية"},[c(u(ne),{class:"h-4 w-4"})],8,dt)])])]))),128))])])])]),p.value?(f(),b("div",{key:0,class:"modal-overlay",onClick:t[11]||(t[11]=s=>p.value=!1)},[e("div",{class:"modal-container",onClick:t[10]||(t[10]=B(()=>{},["stop"]))},[t[27]||(t[27]=e("div",{class:"modal-header"},[e("h3",{class:"text-lg font-semibold text-secondary-900"},"إضافة عضو جديد")],-1)),e("form",{onSubmit:B(A,["prevent"])},[e("div",it,[e("div",null,[t[20]||(t[20]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"الاسم الكامل",-1)),m(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.value.name=s),type:"text",required:"",class:"form-input",placeholder:"أدخل الاسم الكامل"},null,512),[[h,n.value.name]])]),e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"البريد الإلكتروني",-1)),m(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.value.email=s),type:"email",required:"",class:"form-input",placeholder:"أدخل البريد الإلكتروني"},null,512),[[h,n.value.email]])]),e("div",null,[t[22]||(t[22]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"رقم الهاتف",-1)),m(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>n.value.phone=s),type:"tel",required:"",class:"form-input",placeholder:"أدخل رقم الهاتف"},null,512),[[h,n.value.phone]])]),e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"نوع العضوية",-1)),m(e("select",{"onUpdate:modelValue":t[7]||(t[7]=s=>n.value.membershipType=s),required:"",class:"form-select"},t[23]||(t[23]=[e("option",{value:""},"اختر نوع العضوية",-1),e("option",{value:"student"},"طالب",-1),e("option",{value:"faculty"},"أكاديمي",-1),e("option",{value:"public"},"عام",-1)]),512),[[w,n.value.membershipType]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"العنوان",-1)),m(e("textarea",{"onUpdate:modelValue":t[8]||(t[8]=s=>n.value.address=s),rows:"3",class:"form-textarea",placeholder:"أدخل العنوان"},null,512),[[h,n.value.address]])])]),e("div",rt,[e("button",{type:"button",onClick:t[9]||(t[9]=s=>p.value=!1),class:"btn-secondary"}," إلغاء "),t[26]||(t[26]=e("button",{type:"submit",class:"btn-primary"}," إضافة العضو ",-1))])],32)])])):J("",!0)]))}});export{pt as default};
