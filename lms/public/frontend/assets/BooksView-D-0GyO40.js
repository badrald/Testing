var J=Object.defineProperty,K=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var A=(d,l,n)=>l in d?J(d,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):d[l]=n,q=(d,l)=>{for(var n in l||(l={}))R.call(l,n)&&A(d,n,l[n]);if(U)for(var n of U(l))W.call(l,n)&&A(d,n,l[n]);return d},I=(d,l)=>K(d,O(l));import{c as u,a as t,o as c,d as X,r as m,b as B,e as Y,f as p,g as x,u as b,h as ee,w as y,i as te,v as k,j,F as V,k as M,n as g,t as i,l as L,m as se}from"./index-Di7ZQu8m.js";import{r as oe,a as le}from"./ChevronRightIcon-DVxHP0mG.js";import{r as ae}from"./PencilIcon-C4bt2ESj.js";import{r as ne}from"./TrashIcon-h1_yBUuT.js";function re(d,l){return c(),u("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}const ie={class:"space-y-6"},de={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between"},ue={class:"mt-4 sm:mt-0"},ce={class:"card"},ve={class:"card-body"},me={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},pe={class:"md:col-span-2"},be={class:"relative"},ye={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},fe=["value"],xe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},ge={class:"card-body"},he={class:"aspect-[3/4] bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg mb-4 flex items-center justify-center group-hover:scale-105 transition-transform duration-300"},we={class:"space-y-2"},_e={class:"font-semibold text-secondary-900 line-clamp-2"},ke={class:"text-sm text-secondary-600"},Ce={class:"text-xs text-secondary-500"},$e={class:"flex items-center justify-between"},Se={class:"badge badge-secondary"},Be={class:"text-xs text-secondary-500"},Ve={class:"flex justify-between items-center pt-4 border-t border-secondary-100 mt-4"},Me=["onClick"],je={class:"flex space-x-2"},Ne=["onClick"],Pe=["onClick"],Ue={class:"flex items-center justify-between"},Ae={class:"flex-1 flex justify-between sm:hidden"},qe=["disabled"],Ie=["disabled"],Le={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Te={class:"text-sm text-secondary-700"},ze={class:"font-medium"},De={class:"font-medium"},Ee={class:"font-medium"},Fe={class:"relative z-0 inline-flex rounded-lg shadow-sm -space-x-px"},Ze=["disabled"],Qe=["onClick"],Ge=["disabled"],He={class:"modal-body space-y-4"},Je=["value"],Ke={class:"modal-footer"},et=X({__name:"BooksView",setup(d){const l=m(""),n=m(""),C=m(""),a=m(1),h=m(12),w=m(!1),r=m({title:"",author:"",isbn:"",category:"",location:""}),$=m(["الأدب","العلوم","التاريخ","السير الذاتية","التكنولوجيا","الفن","الفلسفة","الأطفال"]),_=m([{id:1,title:"الأسود يليق بك",author:"أحلام مستغانمي",isbn:"978-0-7432-7356-5",category:"الأدب",status:"available",location:"A-1-001"},{id:2,title:"مئة عام من العزلة",author:"غابرييل غارسيا ماركيز",isbn:"978-0-06-112008-4",category:"الأدب",status:"borrowed",location:"A-1-002"},{id:3,title:"1984",author:"جورج أورويل",isbn:"978-0-452-28423-4",category:"الأدب",status:"available",location:"A-1-003"},{id:4,title:"تاريخ موجز للزمن",author:"ستيفن هوكينغ",isbn:"978-0-553-38016-3",category:"العلوم",status:"reserved",location:"B-2-001"},...Array.from({length:20},(o,e)=>({id:e+5,title:`كتاب رقم ${e+5}`,author:`مؤلف ${e+5}`,isbn:`978-0-${String(e+5).padStart(3,"0")}-${String(e+5).padStart(5,"0")}-${e%10}`,category:$.value[e%$.value.length],status:["available","borrowed","reserved"][e%3],location:`${String.fromCharCode(65+e%3)}-${Math.floor(e/3)+1}-${String(e+1).padStart(3,"0")}`}))]),S=B(()=>_.value.filter(o=>{const e=!l.value||o.title.toLowerCase().includes(l.value.toLowerCase())||o.author.toLowerCase().includes(l.value.toLowerCase())||o.isbn.includes(l.value),s=!n.value||o.category===n.value,v=!C.value||o.status===C.value;return e&&s&&v})),f=B(()=>Math.ceil(S.value.length/h.value)),T=B(()=>{const o=(a.value-1)*h.value,e=o+h.value;return S.value.slice(o,e)}),z=B(()=>{const o=[],e=Math.max(1,a.value-2),s=Math.min(f.value,a.value+2);for(let v=e;v<=s;v++)o.push(v);return o}),D=o=>{switch(o){case"available":return"badge-success";case"borrowed":return"badge-warning";case"reserved":return"badge-primary";default:return"badge-secondary"}},E=o=>{switch(o){case"available":return"متاح";case"borrowed":return"مستعار";case"reserved":return"محجوز";default:return"غير محدد"}},F=()=>{const o=I(q({id:_.value.length+1},r.value),{status:"available"});_.value.push(o),r.value={title:"",author:"",isbn:"",category:"",location:""},w.value=!1},Z=o=>{console.log("View book:",o)},Q=o=>{console.log("Edit book:",o)},G=o=>{if(confirm("هل أنت متأكد من حذف هذا الكتاب؟")){const e=_.value.findIndex(s=>s.id===o.id);e>-1&&_.value.splice(e,1)}},N=()=>{a.value>1&&a.value--},P=()=>{a.value<f.value&&a.value++},H=o=>{a.value=o};return(o,e)=>(c(),u("div",ie,[t("div",de,[e[13]||(e[13]=t("div",null,[t("h1",{class:"text-3xl font-bold text-secondary-900"},"إدارة الكتب"),t("p",{class:"mt-2 text-secondary-600"},"إدارة مجموعة كتب المكتبة")],-1)),t("div",ue,[t("button",{onClick:e[0]||(e[0]=s=>w.value=!0),class:"btn-primary"},[p(b(ee),{class:"w-4 h-4 mr-2"}),e[12]||(e[12]=x(" إضافة كتاب جديد ",-1))])])]),t("div",ce,[t("div",ve,[t("div",me,[t("div",pe,[e[14]||(e[14]=t("label",{for:"search",class:"sr-only"},"البحث في الكتب",-1)),t("div",be,[t("div",ye,[p(b(te),{class:"h-5 w-5 text-secondary-400"})]),y(t("input",{id:"search","onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s),type:"text",placeholder:"البحث بالعنوان، المؤلف، أو ISBN...",class:"form-input pl-10"},null,512),[[k,l.value]])])]),t("div",null,[y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>n.value=s),class:"form-select"},[e[15]||(e[15]=t("option",{value:""},"جميع التصنيفات",-1)),(c(!0),u(V,null,M($.value,s=>(c(),u("option",{key:s,value:s},i(s),9,fe))),128))],512),[[j,n.value]])]),t("div",null,[y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>C.value=s),class:"form-select"},e[16]||(e[16]=[t("option",{value:""},"جميع الحالات",-1),t("option",{value:"available"},"متاح",-1),t("option",{value:"borrowed"},"مستعار",-1),t("option",{value:"reserved"},"محجوز",-1)]),512),[[j,C.value]])])])])]),t("div",xe,[(c(!0),u(V,null,M(T.value,s=>(c(),u("div",{key:s.id,class:"card hover:shadow-medium transition-all duration-300 group"},[t("div",ge,[t("div",he,[p(b(se),{class:"w-12 h-12 text-primary-600"})]),t("div",we,[t("h3",_e,i(s.title),1),t("p",ke,i(s.author),1),t("p",Ce,"ISBN: "+i(s.isbn),1),t("div",$e,[t("span",Se,i(s.category),1),t("span",{class:g(["badge",D(s.status)])},i(E(s.status)),3)]),t("p",Be,[p(b(re),{class:"w-3 h-3 inline mr-1"}),x(" "+i(s.location),1)])]),t("div",Ve,[t("button",{onClick:v=>Z(s),class:"text-primary-600 hover:text-primary-800 text-sm font-medium"}," عرض التفاصيل ",8,Me),t("div",je,[t("button",{onClick:v=>Q(s),class:"p-1 text-secondary-400 hover:text-secondary-600 rounded",title:"تعديل"},[p(b(ae),{class:"h-4 w-4"})],8,Ne),t("button",{onClick:v=>G(s),class:"p-1 text-danger-400 hover:text-danger-600 rounded",title:"حذف"},[p(b(ne),{class:"h-4 w-4"})],8,Pe)])])])]))),128))]),t("div",Ue,[t("div",Ae,[t("button",{onClick:N,disabled:a.value===1,class:g(["btn-secondary",{"opacity-50 cursor-not-allowed":a.value===1}])}," السابق ",10,qe),t("button",{onClick:P,disabled:a.value===f.value,class:g(["btn-secondary",{"opacity-50 cursor-not-allowed":a.value===f.value}])}," التالي ",10,Ie)]),t("div",Le,[t("div",null,[t("p",Te,[e[17]||(e[17]=x(" عرض ",-1)),t("span",ze,i((a.value-1)*h.value+1),1),e[18]||(e[18]=x(" إلى ",-1)),t("span",De,i(Math.min(a.value*h.value,S.value.length)),1),e[19]||(e[19]=x(" من ",-1)),t("span",Ee,i(S.value.length),1),e[20]||(e[20]=x(" نتيجة ",-1))])]),t("div",null,[t("nav",Fe,[t("button",{onClick:N,disabled:a.value===1,class:g(["relative inline-flex items-center px-2 py-2 rounded-l-lg border border-secondary-300 bg-white text-sm font-medium text-secondary-500 hover:bg-secondary-50",{"opacity-50 cursor-not-allowed":a.value===1}])},[p(b(oe),{class:"h-5 w-5"})],10,Ze),(c(!0),u(V,null,M(z.value,s=>(c(),u("button",{key:s,onClick:v=>H(s),class:g(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s===a.value?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-secondary-300 text-secondary-500 hover:bg-secondary-50"])},i(s),11,Qe))),128)),t("button",{onClick:P,disabled:a.value===f.value,class:g(["relative inline-flex items-center px-2 py-2 rounded-r-lg border border-secondary-300 bg-white text-sm font-medium text-secondary-500 hover:bg-secondary-50",{"opacity-50 cursor-not-allowed":a.value===f.value}])},[p(b(le),{class:"h-5 w-5"})],10,Ge)])])])]),w.value?(c(),u("div",{key:0,class:"modal-overlay",onClick:e[11]||(e[11]=s=>w.value=!1)},[t("div",{class:"modal-container",onClick:e[10]||(e[10]=L(()=>{},["stop"]))},[e[28]||(e[28]=t("div",{class:"modal-header"},[t("h3",{class:"text-lg font-semibold text-secondary-900"},"إضافة كتاب جديد")],-1)),t("form",{onSubmit:L(F,["prevent"])},[t("div",He,[t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"عنوان الكتاب",-1)),y(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>r.value.title=s),type:"text",required:"",class:"form-input",placeholder:"أدخل عنوان الكتاب"},null,512),[[k,r.value.title]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"المؤلف",-1)),y(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>r.value.author=s),type:"text",required:"",class:"form-input",placeholder:"أدخل اسم المؤلف"},null,512),[[k,r.value.author]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"ISBN",-1)),y(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>r.value.isbn=s),type:"text",required:"",class:"form-input",placeholder:"أدخل رقم ISBN"},null,512),[[k,r.value.isbn]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"التصنيف",-1)),y(t("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>r.value.category=s),required:"",class:"form-select"},[e[24]||(e[24]=t("option",{value:""},"اختر التصنيف",-1)),(c(!0),u(V,null,M($.value,s=>(c(),u("option",{key:s,value:s},i(s),9,Je))),128))],512),[[j,r.value.category]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-secondary-700 mb-1"},"الموقع",-1)),y(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>r.value.location=s),type:"text",required:"",class:"form-input",placeholder:"مثال: A-1-001"},null,512),[[k,r.value.location]])])]),t("div",Ke,[t("button",{type:"button",onClick:e[9]||(e[9]=s=>w.value=!1),class:"btn-secondary"}," إلغاء "),e[27]||(e[27]=t("button",{type:"submit",class:"btn-primary"}," إضافة الكتاب ",-1))])],32)])])):Y("",!0)]))}});export{et as default};
